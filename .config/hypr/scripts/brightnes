#!/bin/bash

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#
# ██████╗ ██████╗ ██╗ ██████╗ ██╗  ██╗████████╗███╗   ██╗███████╗███████╗
# ██╔══██╗██╔══██╗██║██╔════╝ ██║  ██║╚══██╔══╝████╗  ██║██╔════╝██╔════╝
# ██████╔╝██████╔╝██║██║  ███╗███████║   ██║   ██╔██╗ ██║█████╗  ███████╗
# ██╔══██╗██╔══██╗██║██║   ██║██╔══██║   ██║   ██║╚██╗██║██╔══╝  ╚════██║
# ██████╔╝██║  ██║██║╚██████╔╝██║  ██║   ██║   ██║ ╚████║███████╗███████║
# ╚═════╝ ╚═╝  ╚═╝╚═╝ ╚═════╝ ╚═╝  ╚═╝   ╚═╝   ╚═╝  ╚═══╝╚══════╝╚══════╝
#
# Autor = Shen Blaskowitz
# Inspiration = https://github.com/adi1090x
# Follow Me = https://github.com/Shentxt
#
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -
#                 Executed Brightness
#
# a simple brightness script
#
# required to function
# --------------------
# wlsunset: brightness
# dunst: notify
# awk: print the message
#
# - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - - -

# Obtén el valor actual del brillo
current_brightness=$(xrandr --current --verbose | grep -i brightness | awk '{print $2}')

# Ejecuta el comando wlsunset para actualizar el brillo
wlsunset -S 8:00 -s 8:22 >/dev/null 2>&1

# Obtén el nuevo valor del brillo después del cambio
new_brightness=$(xrandr --current --verbose | grep -i brightness | awk '{print $2}')

# Compara los valores de brillo para determinar si cambió
if [[ "$new_brightness" != "$current_brightness" ]]; then
	if [[ "$new_brightness" < "$current_brightness" ]]; then
		notify-send "Brightnes Dark"
	else
		notify-send "Brightnes Light"
	fi
fi
